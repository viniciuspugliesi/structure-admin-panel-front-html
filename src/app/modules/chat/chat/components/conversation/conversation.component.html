<div class="layers h-100">
    <div class="layer w-100">
        <!-- Header -->
        <div class="peers fxw-nw jc-sb ai-c pY-20 pX-20 bgc-white">
            <div class="peers ai-c">
                <div class="peer d-n@md+">
                    <a href="" prevent-default (click)="toggleChatSidebar()" class="td-n c-grey-900 cH-blue-500 mR-30">
                        <i class="fa fa-bars"></i>
                    </a>
                </div>
                <div class="peer mR-20">
                    <img [src]="contact.image" [alt]="contact.name" class="w-3r h-3r bdrs-50p">
                </div>
                <div class="peer">
                    <h6 class="lh-1 mB-0">{{ contact.name }}</h6>
                    <i class="fsz-sm lh-1">{{ contact.status }}</i>
                </div>
            </div>
            <div class="peers">
                <a href="" prevent-default class="peer td-n c-grey-900 cH-blue-500 fsz-md mR-30" data-toggle="tooltip"
                   title="Video call">
                    <i class="fas fa-video"></i>
                </a>

                <a href="" prevent-default class="peer td-n c-grey-900 cH-blue-500 fsz-md" id="more"
                   data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="fa fa-ellipsis-h"></i>

                    <div class="dropdown-menu" aria-labelledby="more">
                        <a class="dropdown-item" href="" prevent-default (click)="contactInformation()">Contact Information</a>
                        <a class="dropdown-item" href="" prevent-default (click)="clearMessages()">Clear messages</a>
                    </div>
                </a>
            </div>
        </div>
    </div>

    <div class="layer w-100 fxg-1 bgc-grey-200 scrollable pos-r" id="box-chat">
        <!-- Chat Box -->
        <div class="p-20 gapY-15">

            <div *ngFor="let conversation of contact.conversations" class="peers fxw-nw" [ngClass]="{'ai-fe': conversation.itsMine}">
                <div class="peer" [ngClass]="{'ord-1 mL-20': conversation.itsMine, 'mR-20': !conversation.itsMine}">
                    <img class="w-2r bdrs-50p" [src]="!conversation.itsMine ? contact.image : 'https://randomuser.me/api/portraits/men/12.jpg'" alt="">
                </div>

                <div class="peer peer-greed">
                    <div class="layers" [ngClass]="{'ai-fe gapY-10': conversation.itsMine, 'ai-fs gapY-5': !conversation.itsMine}">
                        <div *ngFor="let message of conversation.messages" class="layer mw-75p">
                            <div class="peers fxw-nw ai-c pY-3 pX-10 bgc-white bdrs-2 lh-3/2">
                                <div class="peer" [ngClass]="{'ord-1 mL-10': conversation.itsMine, 'mR-10': !conversation.itsMine}">
                                    <small>10:00 AM</small>
                                </div>
                                <div class="peer-greed" [ngClass]="{'ord-0': conversation.itsMine}">
                                    <span>{{ message.message }}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chat-finish"></div>
            </div>
        </div>
    </div>

    <div class="layer w-100">
        <!-- Chat Send -->
        <div class="p-20 bdT bgc-white">
            <div class="pos-r">
                <form (submit)="sendMessage()" autocomplete="off">
                    <input type="text" [(ngModel)]="message" name="message" class="form-control bdrs-10em m-0" placeholder="Say something...">

                    <button class="btn btn-primary bdrs-50p w-2r p-0 h-2r pos-a r-1 t-1">
                        <i class="far fa-paper-plane paper-send"></i>
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>
