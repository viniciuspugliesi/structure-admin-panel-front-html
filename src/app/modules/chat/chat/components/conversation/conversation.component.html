<div class="layers h-100">
    <div class="layer w-100">
        <!-- Header -->
        <div class="peers fxw-nw jc-sb ai-c pY-20 pX-20 bgc-white">
            <div class="peers ai-c">
                <div class="peer d-n@md+">
                    <a (click)="toggleChatSidebar()" class="td-n c-grey-900 cH-blue-500 mR-30" href="" prevent-default>
                        <i class="fa fa-bars"></i>
                    </a>
                </div>
                <div class="peer mR-20">
                    <img [alt]="contact.name" [src]="contact.image" class="w-3r h-3r bdrs-50p">
                </div>
                <div class="peer">
                    <h6 class="lh-1 mB-0">{{ contact.name }}</h6>
                    <i class="fsz-sm lh-1">{{ contact.status }}</i>
                </div>
            </div>
            <div class="peers">
                <a class="peer td-n c-grey-900 cH-blue-500 fsz-md mR-30" data-toggle="tooltip" href="" prevent-default
                   title="Video call">
                    <i class="fas fa-video"></i>
                </a>

                <a aria-expanded="false" aria-haspopup="true" class="peer td-n c-grey-900 cH-blue-500 fsz-md"
                   data-toggle="dropdown"
                   href="" id="more" prevent-default>
                    <i class="fa fa-ellipsis-h"></i>

                    <div aria-labelledby="more" class="dropdown-menu">
                        <a (click)="contactInformation()" class="dropdown-item" href="" prevent-default>Contact
                            Information</a>
                        <a (click)="clearMessages()" class="dropdown-item" href="" prevent-default>Clear messages</a>
                    </div>
                </a>
            </div>
        </div>
    </div>

    <div class="layer w-100 fxg-1 bgc-grey-200 scrollable pos-r" id="box-chat">
        <!-- Chat Box -->
        <div class="p-20 gapY-15">

            <div *ngFor="let conversation of contact.conversations" [ngClass]="{'ai-fe': conversation.itsMine}"
                 class="peers fxw-nw">
                <div [ngClass]="{'ord-1 mL-20': conversation.itsMine, 'mR-20': !conversation.itsMine}" class="peer">
                    <img
                        [src]="!conversation.itsMine ? contact.image : 'https://randomuser.me/api/portraits/men/12.jpg'"
                        alt="" class="w-2r bdrs-50p">
                </div>

                <div class="peer peer-greed">
                    <div [ngClass]="{'ai-fe gapY-10': conversation.itsMine, 'ai-fs gapY-5': !conversation.itsMine}"
                         class="layers">
                        <div *ngFor="let message of conversation.messages" class="layer mw-75p">
                            <div class="peers fxw-nw ai-c pY-3 pX-10 bgc-white bdrs-2 lh-3/2">
                                <div [ngClass]="{'ord-1 mL-10': conversation.itsMine, 'mR-10': !conversation.itsMine}"
                                     class="peer">
                                    <small>10:00 AM</small>
                                </div>
                                <div [ngClass]="{'ord-0': conversation.itsMine}" class="peer-greed">
                                    <span>{{ message.message }}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chat-finish"></div>
            </div>
        </div>
    </div>

    <div class="layer w-100">
        <!-- Chat Send -->
        <div class="p-20 bdT bgc-white">
            <div class="pos-r">
                <form (submit)="sendMessage()" autocomplete="off">
                    <input [(ngModel)]="message" class="form-control bdrs-10em m-0" name="message"
                           placeholder="Say something..."
                           type="text">

                    <button class="btn btn-primary bdrs-50p w-2r p-0 h-2r pos-a r-1 t-1">
                        <i class="far fa-paper-plane paper-send"></i>
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>
